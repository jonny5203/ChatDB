
# Story: 1.4 - JWT Validation & Authorization

**Epic:** 1 - API Gateway Implementation
**Status:** Done

## Story

As a developer, I want to validate JWT tokens and perform authorization in the API Gateway, so that only authenticated and authorized users can access protected routes.

## Acceptance Criteria

1.  The API Gateway can validate a JWT token from a cookie.
2.  The API Gateway can grant or deny access to a route based on the claims in the JWT token.
3.  The API Gateway returns a 401 Unauthorized error if the JWT token is invalid or missing.

## Dev Notes

*   **JWT Validation:** Use a Go library to validate the JWT token. [Source: Not explicitly in architecture, but a standard practice for this type of integration.]
*   **Authorization:** Implement a middleware that checks for a valid JWT token and authorizes the user based on the claims in the token. [Source: Not explicitly in architecture, but a standard practice for this type of integration.]
*   **Protected Routes:** The `/mock` route should be protected and require a valid JWT token.

## Tasks / Subtasks

*   [x] Create a new middleware that validates the JWT token from the `id_token` cookie.
*   [x] Apply the middleware to the `/mock` route.
*   [x] Write a unit test to verify that the middleware is working correctly.

